<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Predix UI</title>
  <script src="../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="/bower_components/polymer/polymer.html" />

  <link rel="import" href="/bower_components/px-inbox/px-inbox.html" />
  <link rel="import" href="/bower_components/px-key-value-pair/px-key-value-pair.html" />
  <link rel="import" href="/bower_components/px-card/px-card.html" />
  <link rel="import" href="/bower_components/px-vis-radar/px-vis-radar.html" />
  <link rel="import" href="/bower_components/px-vis-polar/px-vis-polar.html" />

  <link rel="import" href="/bower_components/px-theme/px-theme-styles.html">
  <link rel="import" href="/css/px-sample-layouts-styles.html" />
</head>

<body>
  <custom-style>
    <style include="px-theme-styles" is="custom-style"></style>
  </custom-style>
  <custom-style>
    <style include="px-sample-layouts-styles" is="custom-style"></style>
  </custom-style>

  <dom-bind>
    <template is="dom-bind">

      <px-inbox list-items='[[listItems]]'>

        <div class="heading--page u-p">{{title}}</div>
        <div class="flex flex--wrap flex--justify u-p">
          <span class="u-1/3-desk-and-up u-pr++ u-mb-">Donec sed odio dui. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa
            justo sit amet risus. Cras justo odio, dapibus ac facilisis in, egestas eget quam.</span>
          <div class="u-1/3-desk-and-up u-pr++ u-mb-">
            <px-key-value-pair class="u-mv" key="Alert ID" value="{{alertId}}" size="delta"></px-key-value-pair>
            <px-key-value-pair class="u-mv" key="Alert Source" value="{{alertSource}}" size="delta"></px-key-value-pair>
          </div>
          <div class="u-1/3-desk-and-up u-pr++ u-mb-">
            <px-key-value-pair class="u-mv" key="Received Date/Time" value="{{receivedDateTime}}" size="delta"></px-key-value-pair>
            <px-key-value-pair class="u-mv" key="Case Number" value="{{caseNumber}}" size="delta"></px-key-value-pair>
          </div>
        </div>
        <div class="u-p">
          <span class="heading--subsection">Customer Information</span>
          <div class="flex flex--row flex--wrap flex--justify">
            <px-key-value-pair class="u-mv" key="Customer" value="{{customer}}"></px-key-value-pair>
            <px-key-value-pair class="u-mv" key="Contract Type" value="{{serialNumber}}"></px-key-value-pair>
            <px-key-value-pair class="u-mv" key="DLN Type" value="{{dlnType}}"></px-key-value-pair>
            <px-key-value-pair class="u-mv" key="Security" value="{{model}}"></px-key-value-pair>
          </div>
        </div>

        <px-card class="light-card" header-text="Evidence 1" icon="px-fea:analytics">
          <px-icon slot='actions' icon='px-utl:app-settings'></px-icon>
          <!-- <px-vis-radar width="500" height="500" chart-data="[[chartData]]" axes='["axis1","axis2","axis3","axis4","axis5"]' series-key="TimeStamp"
            hide-axis-register>
          </px-vis-radar> -->
        </px-card>

        <px-card class="light-card" header-text="Evidence 2" icon="px-fea:analytics">
          <px-icon slot='actions' icon='px-utl:app-settings'></px-icon>
          <!-- <px-vis-polar width="500" height="500" chart-data="[[chartData2]]" series-config="[[seriesConfig]]" hide-register use-degrees>
          </px-vis-polar> -->
        </px-card>

      </px-inbox>

    </template>
  </dom-bind>

</body>

<script>
  var autobind = document.querySelector('dom-bind');
  autobind.listItems = [{
      "id": "1",
      "title": "CMS Cold Spot",
      "subtitle": "GT240182",
      "severity": "important",
      "date": "2016-10-05T01:29",
      "alertId": "749581",
      "alertSource": "Combustion",
      "receivedDateTime": "2016-10-05T08:00",
      "caseNumber": "127587937",
      "customer": "Dorothy Vaughan",
      "serialNumber": "GT769375",
      "dlnType": "DLN 2.6",
      "model": "7FA+e"
    }, {
      "id": "2",
      "title": "Drum Level Anomaly",
      "subtitle": "Block 2",
      "severity": "warning",
      "date": "2016-10-04T01:27",
      "alertId": "249375",
      "alertSource": "Ignition",
      "receivedDateTime": "2016-10-04T03:30",
      "caseNumber": "857463748",
      "customer": "Mary Jackson",
      "serialNumber": "GE783556",
      "dlnType": "DLN 1.4",
      "model": "2MA+c"
    }, {
      "id": "3",
      "title": "GT Vibration",
      "subtitle": "GT20145",
      "severity": "error",
      "date": "2016-10-03T01:21",
      "alertId": "749581",
      "alertSource": "Combustion",
      "receivedDateTime": "2016-10-03T01:50",
      "caseNumber": "5635221",
      "customer": "Katherine Johnson",
      "serialNumber": "DM528443",
      "dlnType": "DLN 1.0",
      "model": "9985A"
    }, {
      "id": "4",
      "title": "Drum Level Anomaly",
      "subtitle": "Block 4 of GT23183 of Power Plant XYZ",
      "severity": "information",
      "date": "2016-10-03T01:05",
      "alertId": "1999574",
      "alertSource": "Combustion",
      "receivedDateTime": "2016-10-03T10:03",
      "caseNumber": "44938",
      "customer": "Sally Ride",
      "serialNumber": "GT769375",
      "dlnType": "DLN 2.6",
      "model": "7FA+e"
    }, {
      "id": "5",
      "title": "GT Trip",
      "subtitle": "GT23193",
      "severity": "important",
      "date": "2016-10-02T12:30",
      "alertId": "482001",
      "alertSource": "Combustion",
      "receivedDateTime": "2016-10-02T11:16",
      "caseNumber": "127587937",
      "customer": "Ilan Ramon",
      "serialNumber": "IL194800",
      "dlnType": "DLN 6",
      "model": "TTA3"
    }, {
      "id": "6",
      "title": "CMS Hot Spot",
      "subtitle": "GT240183",
      "severity": "warning",
      "date": "2016-10-01T02:30",
      "alertId": "482000",
      "alertSource": "Combustion",
      "receivedDateTime": "2016-10-01T11:16",
      "caseNumber": "127587105",
      "customer": "Sally Ride",
      "serialNumber": "IL194893",
      "dlnType": "DLN 6",
      "model": "TTA3"
    }];
  autobind.title = 'CMS Cold Spot';
  autobind.severity = 'important';
  autobind.alertId = '749581';
  autobind.alertSource = 'Combustion';
  autobind.receivedDateTime = '2016-10-05T01:29';
  autobind.caseNumber = '127587937';
  autobind.customer = 'Dorothy Vaughan';
  autobind.serialNumber = 'GT769375';
  autobind.dlnType = 'DLN 2.6';
  autobind.model = '7FA+e';
  autobind.chartData = [{
    "TimeStamp": 1465416480000,
    "axis1": "1",
    "axis2": "7",
    "axis3": "6",
    "axis4": "6",
    "axis5": "7",
    "category": "a"
  }, {
    "TimeStamp": 1465416540000,
    "axis1": "3",
    "axis2": "7",
    "axis3": "7",
    "axis4": "6",
    "axis5": "6",
    "category": "d"
  }, {
    "TimeStamp": 1465416600000,
    "axis1": "4",
    "axis2": "6",
    "axis3": "7",
    "axis4": "6",
    "axis5": "7",
    "category": "b"
  }, {
    "TimeStamp": 1465416660000,
    "axis1": "6",
    "axis2": "7",
    "axis3": "7",
    "axis4": "6",
    "axis5": "6",
    "category": "b"
  }, {
    "TimeStamp": 1465416720000,
    "axis1": "8",
    "axis2": "6",
    "axis3": "6",
    "axis4": "6",
    "axis5": "7",
    "category": "c"
  }, {
    "TimeStamp": 1465416780000,
    "axis1": "9",
    "axis2": "6",
    "axis3": "8",
    "axis4": "7",
    "axis5": "8",
    "category": "c"
  }, {
    "TimeStamp": 1465416840000,
    "axis1": "10",
    "axis2": "5",
    "axis3": "7",
    "axis4": "5",
    "axis5": "6",
    "category": "a"
  }, {
    "TimeStamp": 1465416900000,
    "axis1": "7",
    "axis2": "6",
    "axis3": "7",
    "axis4": "7",
    "axis5": "7",
    "category": "b"
  }, {
    "TimeStamp": 1465416960000,
    "axis1": "5",
    "axis2": "7",
    "axis3": "6",
    "axis4": "5",
    "axis5": "6",
    "category": "a"
  }, {
    "TimeStamp": 1465417020000,
    "axis1": "2",
    "axis2": "8",
    "axis3": "6",
    "axis4": "7",
    "axis5": "6",
    "category": "c"
  }];
  autobind.chartData2 = [{
    "timeStamp": 571474800000, "y0": 3.7118897396388775, "x": 263.64758832947956
  }, {
    "timeStamp": 576128084230, "y0": 3.75718207776737, "x": 1
  }, {
    "timeStamp": 580781368460, "y0": 4.3068869085680745, "x": 2
  }, {
    "timeStamp": 585434652690, "y0": 4.135457919757624, "x": 3
  }, {
    "timeStamp": 590087936920, "y0": 3.600892468299585, "x": 4
  }, {
    "timeStamp": 594741221150, "y0": 3.4696218708027122, "x": 5
  }, {
    "timeStamp": 599394505380, "y0": 3.2330838444443994, "x": 6
  }, {
    "timeStamp": 604047789610, "y0": 3.4762274717205055, "x": 7
  }, {
    "timeStamp": 608701073840, "y0": 2.861738072170097, "x": 8
  }, {
    "timeStamp": 613354358070, "y0": 2.227387642476533, "x": 9
  }, {
    "timeStamp": 618007642300, "y0": 1.964756105888178, "x": 10
  }, {
    "timeStamp": 622660926530, "y0": 1.4740893145758218, "x": 11
  }, {
    "timeStamp": 627314210760, "y0": 0.892740183011618, "x": 12
  }, {
    "timeStamp": 631967494990, "y0": 0.6558258245675632, "x": 13
  }, {
    "timeStamp": 636620779220, "y0": 0.9481219401710573, "x": 14
  }, {
    "timeStamp": 641274063450, "y0": 0.28112956514016085, "x": 15
  }, {
    "timeStamp": 645927347680, "y0": 0.09825437512094759, "x": 16
  }, {
    "timeStamp": 650580631910, "y0": 0.1354650196915667, "x": 17
  }, {
    "timeStamp": 655233916140, "y0": 0.7999048253144625, "x": 18
  }, {
    "timeStamp": 659887200370, "y0": 1.2103761136914857, "x": 19
  }, {
    "timeStamp": 664540484600, "y0": 0.6430919814418338, "x": 20
  }];
  autobind.seriesConfig = { "series1": { "x": "x", "y": "y0", "name": "Series 1" } };

  var inbox = document.querySelector('px-inbox');
  inbox.addEventListener('selected-item-changed', updateInboxDetails);

  function updateInboxDetails(e) {
    var autobind = document.querySelector('dom-bind');
    var selectedId = e.detail.value;
    if (!autobind.listItems) return;
    var inboxItem = autobind.listItems.find(function (item) {
      return item.id === e.detail.value;
    });
    if (!inboxItem || !inboxItem.title) return;
    autobind.set("title", inboxItem.title);
    autobind.set("severity", inboxItem.severity);
    autobind.set("isSelected", true);
    autobind.set("alertId", inboxItem.alertId);
    autobind.set("alertSource", inboxItem.alertSource);
    autobind.set("receivedDateTime", inboxItem.receivedDateTime);
    autobind.set("caseNumber", inboxItem.caseNumber);
    autobind.set("customer", inboxItem.customer);
    autobind.set("serialNumber", inboxItem.serialNumber);
    autobind.set("dlnType", inboxItem.dlnType);
    autobind.set("model", inboxItem.model);
  };
</script>
